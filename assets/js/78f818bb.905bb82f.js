"use strict";(self.webpackChunkcharacterstudio_docs=self.webpackChunkcharacterstudio_docs||[]).push([[7583],{3531:(n,a,e)=>{e.r(a),e.d(a,{assets:()=>m,contentTitle:()=>r,default:()=>p,frontMatter:()=>t,metadata:()=>s,toc:()=>l});var o=e(4848),i=e(8453);const t={},r="VRM to LoRA data",s={id:"modders/manifest-files/vrm-to-lora",title:"VRM to LoRA data",description:"This manifest is inspired by the VRM to LoRA guide by reneil1337 will generate training data that can be used for training LoRAs using tools such as Kohya.",source:"@site/docs/modders/manifest-files/vrm-to-lora.md",sourceDirName:"modders/manifest-files",slug:"/modders/manifest-files/vrm-to-lora",permalink:"/characterstudio-docs/docs/modders/manifest-files/vrm-to-lora",draft:!1,unlisted:!1,editUrl:"https://github.com/m3-org/characterstudio-docs/tree/main/docs/modders/manifest-files/vrm-to-lora.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Generating Manifest Files",permalink:"/characterstudio-docs/docs/modders/manifest-files/generate-manifest-files"},next:{title:"Processing Assets",permalink:"/characterstudio-docs/docs/modders/process-avatars"}},m={},l=[{value:"Example File",id:"example-file",level:3}];function c(n){const a={a:"a",code:"code",h1:"h1",h3:"h3",hr:"hr",img:"img",p:"p",pre:"pre",...(0,i.R)(),...n.components},{Details:e}=a;return e||function(n,a){throw new Error("Expected "+(a?"component":"object")+" `"+n+"` to be defined: you likely forgot to import, pass, or provide it.")}("Details",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(a.h1,{id:"vrm-to-lora-data",children:"VRM to LoRA data"}),"\n",(0,o.jsxs)(a.p,{children:["This manifest is inspired by the ",(0,o.jsx)(a.a,{href:"https://hackmd.io/@reneil1337/avatar-lora",children:"VRM to LoRA guide"})," by ",(0,o.jsx)(a.a,{href:"https://github.com/reneil1337",children:"reneil1337"})," will generate training data that can be used for training LoRAs using tools such as ",(0,o.jsx)(a.a,{href:"https://github.com/bmaltais/kohya_ss",children:"Kohya"}),"."]}),"\n",(0,o.jsx)(a.p,{children:(0,o.jsx)(a.img,{src:"https://hackmd.io/_uploads/H1OJTfb36.jpg",alt:""})}),"\n",(0,o.jsx)(a.p,{children:"Specifically this part automates the part of gathering screenshots and tagging them from any input VRM file, a time consuming process when done manually. The output will be images + text files like such:"}),"\n",(0,o.jsx)(a.p,{children:(0,o.jsx)(a.img,{src:"https://hackmd.io/_uploads/SkXX5KWnp.png",alt:"Screenshot from 2024-02-14 12-17-25"})}),"\n",(0,o.jsxs)(a.p,{children:["For the rest of the steps, follow this guide: ",(0,o.jsx)(a.a,{href:"https://hackmd.io/@reneil1337/avatar-lora",children:"https://hackmd.io/@reneil1337/avatar-lora"})]}),"\n",(0,o.jsx)(a.hr,{}),"\n",(0,o.jsx)(a.p,{children:"Here's a snippet of a manifest.json file for exporting LoRA training data. The animations being used are no-skin mixamo animation files that used Y-bot as the character. In the future we plan to implement VRMA (VRM animation) file support."}),"\n",(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-json!",children:'{\n    "assetsLocation": "./lora-assets/",\n    "animationsDirectory": "/animations/",\n    "backgroundGrayscale": 0,\n    "backgroundDescription": "plain black background",\n    "width":1024,\n    "height":1024,\n    "topFrameOffsetPixels":64,\n    "bottomFrameOffsetPixels":64,\n    "dataCollection":[\n        {\n            "animationPath":"Walking.fbx",\n            "animationFrame":8,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":[-0.5,-0.2,1],\n            "cameraFrame":"fullShot",\n            "description":"a person slowly walking full shot"\n        },\n...\n'})}),"\n",(0,o.jsx)(a.h3,{id:"example-file",children:"Example File"}),"\n",(0,o.jsx)(a.p,{children:(0,o.jsx)(a.a,{href:"https://github.com/M3-org/CharacterStudio/blob/lora-data-creator/public/lora-assets/manifest.json",children:"https://github.com/M3-org/CharacterStudio/blob/lora-data-creator/public/lora-assets/manifest.json"})}),"\n",(0,o.jsxs)(e,{children:[(0,o.jsx)("summary",{children:"View full example file"}),(0,o.jsx)(a.pre,{children:(0,o.jsx)(a.code,{className:"language-json!",children:'{\n    "assetsLocation": "./lora-assets/",\n    "animationsDirectory": "/animations/",\n    "backgroundGrayscale": 0,\n    "backgroundDescription": "plain black background",\n    "width":1024,\n    "height":1024,\n    "topFrameOffsetPixels":64,\n    "bottomFrameOffsetPixels":64,\n    "dataCollection":[\n        {\n            "animationPath":"Walking.fbx",\n            "animationFrame":8,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":[-0.5,-0.2,1],\n            "cameraFrame":"fullShot",\n            "description":"a person slowly walking full shot"\n        },\n        {\n            "animationPath":"Salute.fbx",\n            "animationFrame":30,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front",\n            "cameraFrame":"mediumShot",\n            "description":"a person saluting medium shot"\n        },\n        {\n            "animationPath":"Boxing.fbx",\n            "animationFrame":16,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"left",\n            "cameraFrame":"fullShot",\n            "description":"a person boxing full shot"\n        },\n        {\n            "animationPath":"SittingIdle.fbx",\n            "animationFrame":15,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"left-front",\n            "cameraFrame":"fullShot",\n            "description":"a person sitting on the floor"\n        },\n        {\n            "animationPath":"FallArmsOpen.fbx",\n            "animationFrame":0,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front",\n            "cameraFrame":"fullShot",\n            "description":"a person falling with open arms"\n        },\n        {\n            "animationPath":"Taunt.fbx",\n            "animationFrame":4,\n            "lookAtCamera":false,\n            "cameraPosition":"left",\n            "cameraFrame":"fullShot",\n            "description":"a person in fight pose"\n        },\n        {\n            "animationPath":"Angry.fbx",\n            "animationFrame":87,\n            "lookAtCamera":false,\n            "expression":"angry",\n            "cameraPosition":"front",\n            "cameraFrame":"mediumShot",\n            "description":"a person crossing arms medium shot"\n        },\n        {\n            "animationPath":"Angry.fbx",\n            "animationFrame":333,\n            "lookAtCamera":false,\n            "expression":"angry",\n            "cameraPosition":"back-right",\n            "cameraFrame":"fullShot",\n            "description":"a person crossing arms looking away from camera, full shot"\n        },\n        {\n            "animationPath":"DodgingRight.fbx",\n            "animationFrame":14,\n            "lookAtCamera":false,\n            "expression":"angry",\n            "cameraPosition":"front",\n            "cameraFrame":"fullShot",\n            "description":"a person dodging to the right full shot"\n        },\n        {\n            "animationPath":"KneelingPointing.fbx",\n            "animationFrame":4,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front-left",\n            "cameraFrame":"fullShot",\n            "description":"a person kneeling full shot"\n        },\n        {\n            "animationPath":"KneelingPointing.fbx",\n            "animationFrame":45,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front",\n            "cameraFrame":"fullShot",\n            "description":"a person kneeling pointing away full shot"\n        },\n        {\n            "animationPath":"LookOverShoulder.fbx",\n            "animationFrame":53,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"left-back",\n            "cameraFrame":"fullShot",\n            "description":"a person looking back over shoulder full shot"\n        },\n        {\n            "animationPath":"Strafe.fbx",\n            "animationFrame":0,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"left",\n            "cameraFrame":"fullShot",\n            "description":"a person with aiming pose"\n        },\n        {\n            "animationPath":"StandingGreeting.fbx",\n            "animationFrame":65,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front-top",\n            "cameraFrame":"fullShot",\n            "description":"a person standing and greeting"\n        },\n        {\n            "animationPath":"Shoved.fbx",\n            "animationFrame":80,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front-left-top",\n            "cameraFrame":"fullShot",\n            "description":"a person sitting straight with arms on hips"\n        },\n        {\n            "animationPath":"Running.fbx",\n            "animationFrame":3,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"left-front",\n            "cameraFrame":"fullShot",\n            "description":"a person running"\n        },\n        {\n            "animationPath":"Running.fbx",\n            "animationFrame":3,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"back",\n            "cameraFrame":"fullShot",\n            "description":"a person running away from viewer"\n        },\n        {\n            "animationPath":"Running.fbx",\n            "animationFrame":3,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front",\n            "cameraFrame":"fullShot",\n            "description":"a person running towards from viewer"\n        },\n        {\n            "animationPath":"DoubleLegTakedown-Attacker.fbx",\n            "animationFrame":0,\n            "lookAtCamera":false,\n            "expression":"angry",\n            "cameraPosition":"front",\n            "cameraFrame":"fullShot",\n            "description":"a person in fight stance looking at viewer"\n        },\n        {\n            "animationPath":"DoubleLegTakedown-Attacker.fbx",\n            "animationFrame":0,\n            "lookAtCamera":false,\n            "expression":"angry",\n            "cameraPosition":"front-left",\n            "cameraFrame":"mediumShot",\n            "description":"a person in fight stance medium shot"\n        },\n        {\n            "animationPath":"DoubleLegTakedown-Attacker.fbx",\n            "animationFrame":0,\n            "lookAtCamera":false,\n            "expression":"angry",\n            "cameraPosition":"left",\n            "cameraFrame":"cowboyShot",\n            "description":"a person in fight stance, cowboy shot"\n        },\n        {\n            "animationPath":"MmaKick.fbx",\n            "animationFrame":20,\n            "lookAtCamera":false,\n            "expression":"angry",\n            "cameraPosition":"right",\n            "cameraFrame":"fullShot",\n            "cameraLocalOffset":[0.5,0,0],\n            "description":"a person doing a high kick side view, full shot"\n        },\n        {\n            "animationPath":"PullPlant.fbx",\n            "animationFrame":0,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front",\n            "cameraFrame":"fullShot",\n            "description":"a person kneeling straight looking at camera"\n        },\n        {\n            "animationPath":"PullPlant.fbx",\n            "animationFrame":0,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"back-right",\n            "cameraFrame":"fullShot",\n            "description":"a person kneeling straight facing away from camera"\n        },\n        {\n            "animationPath":"FemaleCrouchPose.fbx",\n            "animationFrame":0,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front",\n            "cameraFrame":"mediumShot",\n            "description":"a person flexing muscles facing away from camera medium shot"\n        },\n        {\n            "animationPath":"StrongGesture.fbx",\n            "animationFrame":37,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front-top",\n            "cameraFrame":"fullShot",\n            "description":"a person flexing muscles full shot"\n        },\n        {\n            "animationPath":"StrutWalking.fbx",\n            "animationFrame":12,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front-left-top",\n            "cameraFrame":"fullShot",\n            "description":"a person strut walking full frame"\n        },\n        {\n            "animationPath":"StrutWalking.fbx",\n            "animationFrame":12,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"back-right",\n            "cameraFrame":"fullShot",\n            "description":"a person strut walking away from viewer"\n        },\n        {\n            "animationPath":"Punching.fbx",\n            "animationFrame":16,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"left",\n            "cameraFrame":"cowboyShot",\n            "description":"a person throwing a punch"\n        },\n        {\n            "animationPath":"Swinging.fbx",\n            "animationFrame":13,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"back",\n            "cameraFrame":"fullShot",\n            "description":"a person hanging with arms shot from behind"\n        },\n        {\n            "animationPath":"GolfPre-Putt.fbx",\n            "animationFrame":94,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"left",\n            "cameraFrame":"fullShot",\n            "description":"a person squatting raising hand"\n        },\n        {\n            "animationPath":"Plank.fbx",\n            "animationFrame":1,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"left-top-front",\n            "cameraFrame":"fullShot",\n            "description":"a person doing push-ups"\n        },\n        {\n            "animationPath":"Crawling.fbx",\n            "animationFrame":16,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":[0.5,1,-1],\n            "cameraFrame":"fullShot",\n            "description":"a person crawling"\n        },\n        {\n            "animationPath":"AirSquat.fbx",\n            "animationFrame":30,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front",\n            "cameraFrame":"fullShot",\n            "description":"a person doing squats"\n        },\n        {\n            "animationPath":"FemaleSittingPose.fbx",\n            "animationFrame":30,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front-left",\n            "cameraFrame":"fullShot",\n            "description":"a person sitting with leg crossed"\n        },\n        {\n            "animationPath":"MaleActionPose.fbx",\n            "animationFrame":0,\n            "lookAtCamera":false,\n            "expression":"angry",\n            "cameraPosition":"left",\n            "cameraFrame":"fullShot",\n            "description":"a person in attack stance"\n        },\n        {\n            "animationPath":"Taunt2.fbx",\n            "animationFrame":61,\n            "lookAtCamera":false,\n            "expression":"angry",\n            "cameraPosition":"left-front",\n            "cameraFrame":"fullShot",\n            "description":"a person with taunting pose"\n        },\n        {\n            "animationPath":"Threatening.fbx",\n            "animationFrame":50,\n            "lookAtCamera":false,\n            "expression":"angry",\n            "cameraPosition":"front",\n            "cameraFrame":"mediumShot",\n            "description":"a person threatening"\n        },\n        {\n            "animationPath":"Taunt3.fbx",\n            "animationFrame":47,\n            "lookAtCamera":false,\n            "expression":"angry",\n            "cameraPosition":"bottom-front",\n            "cameraFrame":"mediumShot",\n            "description":"a person taunting with open arms"\n        },\n        {\n            "animationPath":"BootyHipHopDance.fbx",\n            "animationFrame":44,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front",\n            "cameraFrame":"fullShot",\n            "description":"a person dancing"\n        },\n        {\n            "animationPath":"FemaleStandingPose.fbx",\n            "animationFrame":0,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front",\n            "cameraFrame":"fullShot",\n            "description":"a person posing for picture with raised leg"\n        },\n        {\n            "animationPath":"Cheering.fbx",\n            "animationFrame":24,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":"front",\n            "cameraFrame":"fullShot",\n            "description":"a person cheering with hands up"\n        },\n        {\n            "animationPath":"Female_Locomotion_Pose_1.fbx",\n            "animationFrame":0,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":[-0.5,0,1],\n            "cameraFrame":"fullShot",\n            "description":"a person walking"\n        },\n        {\n            "animationPath":"Female_Locomotion_Pose.fbx",\n            "animationFrame":0,\n            "lookAtCamera":false,\n            "expression":"happy",\n            "cameraPosition":[-0.5,0,1],\n            "cameraFrame":"fullShot",\n            "description":"a person posing for picture"\n        },\n        {\n            "animationPath":"Sadness.fbx",\n            "animationFrame":0,\n            "lookAtCamera":false,\n            "expression":"sad",\n            "cameraPosition":[0.5,-0.5,1],\n            "cameraFrame":"fullShot",\n            "description":"a person standing sad"\n        },\n        {\n            "animationPath":"Male_Sitting_Pose_1.fbx",\n            "animationFrame":10,\n            "lookAtCamera":false,\n            "expression":"sad",\n            "cameraPosition":[-0.5,-0.5,1],\n            "cameraFrame":"fullShot",\n            "description":"a person standing sad"\n        }   \n    ]\n}\n'})})]})]})}function p(n={}){const{wrapper:a}={...(0,i.R)(),...n.components};return a?(0,o.jsx)(a,{...n,children:(0,o.jsx)(c,{...n})}):c(n)}},8453:(n,a,e)=>{e.d(a,{R:()=>r,x:()=>s});var o=e(6540);const i={},t=o.createContext(i);function r(n){const a=o.useContext(t);return o.useMemo((function(){return"function"==typeof n?n(a):{...a,...n}}),[a,n])}function s(n){let a;return a=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:r(n.components),o.createElement(t.Provider,{value:a},n.children)}}}]);