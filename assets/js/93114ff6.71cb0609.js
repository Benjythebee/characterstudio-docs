"use strict";(self.webpackChunkcharacterstudio_docs=self.webpackChunkcharacterstudio_docs||[]).push([[1263],{7413:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>a,default:()=>h,frontMatter:()=>s,metadata:()=>t,toc:()=>d});var o=i(4848),r=i(8453);const s={},a="Animation Manager",t={id:"Developers/Managers/animation-manager",title:"Animation Manager",description:"Manages animations for a character, including loading, playing, and controlling animations.",source:"@site/docs/Developers/Managers/animation-manager.md",sourceDirName:"Developers/Managers",slug:"/Developers/Managers/animation-manager",permalink:"/characterstudio-docs/docs/Developers/Managers/animation-manager",draft:!1,unlisted:!1,editUrl:"https://github.com/m3-org/characterstudio-docs/tree/main/docs/Developers/Managers/animation-manager.md",tags:[],version:"current",lastUpdatedBy:"memelotsqui",lastUpdatedAt:1709269546,formattedLastUpdatedAt:"Mar 1, 2024",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"Character Manager",permalink:"/characterstudio-docs/docs/Developers/Managers/character-manager"},next:{title:"LookAt Manager",permalink:"/characterstudio-docs/docs/Developers/Managers/look-at-manager"}},l={},d=[{value:"Constructor",id:"constructor",level:2},{value:"AnimationManager( )",id:"animationmanager-",level:3},{value:"Properties",id:"properties",level:4},{value:"Methods",id:"methods",level:2},{value:"<code>enableMouseLook(enable: boolean)</code>",id:"enablemouselookenable-boolean",level:3},{value:"<code>setScale(scale: number)</code>",id:"setscalescale-number",level:3},{value:"<code>async loadAnimation(paths: string|string[], isPose: boolean, poseTime: number = 0, isfbx: boolean = true, pathBase: string = &quot;&quot;, name: string = &quot;&quot;)</code>",id:"async-loadanimationpaths-stringstring-ispose-boolean-posetime-number--0-isfbx-boolean--true-pathbase-string---name-string--",level:3},{value:"<code>getCurrentClip(): THREE.AnimationClip|null</code>",id:"getcurrentclip-threeanimationclipnull",level:3},{value:"<code>getCurrentAnimationName(): string</code>",id:"getcurrentanimationname-string",level:3},{value:"<code>clearCurrentAnimations()</code>",id:"clearcurrentanimations",level:3},{value:"<code>storeAnimationPaths(pathArray: string|string[], pathBase: string)</code>",id:"storeanimationpathspatharray-stringstring-pathbase-string",level:3},{value:"<code>loadNextAnimation()</code>",id:"loadnextanimation",level:3},{value:"<code>loadPreviousAnimation()</code>",id:"loadpreviousanimation",level:3},{value:"<code>enableScreenshot()</code>",id:"enablescreenshot",level:3},{value:"<code>disableScreenshot()</code>",id:"disablescreenshot",level:3},{value:"<code>addVRM(vrm: VRM)</code>",id:"addvrmvrm-vrm",level:3},{value:"<code>removeVRM(vrmToRemove: VRM)</code>",id:"removevrmvrmtoremove-vrm",level:3},{value:"<code>getFromActionTime(): number</code>",id:"getfromactiontime-number",level:3},{value:"<code>getToActionTime(): number</code>",id:"gettoactiontime-number",level:3},{value:"<code>getWeightIn(): number</code>",id:"getweightin-number",level:3},{value:"<code>getWeightOut(): number</code>",id:"getweightout-number",level:3},{value:"<code>disposeAnimation(targetAnimControl: AnimationControl)</code>",id:"disposeanimationtargetanimcontrol-animationcontrol",level:3},{value:"<code>dispose()</code>",id:"dispose",level:3},{value:"<code>animRandomizer(yieldTime: number)</code>",id:"animrandomizeryieldtime-number",level:3},{value:"<code>pause()</code>",id:"pause",level:3},{value:"<code>play()</code>",id:"play",level:3},{value:"<code>isPaused(): boolean</code>",id:"ispaused-boolean",level:3},{value:"<code>setTime(time: number)</code>",id:"settimetime-number",level:3},{value:"<code>setSpeed(speed: number)</code>",id:"setspeedspeed-number",level:3}];function c(e){const n={code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",li:"li",p:"p",ul:"ul",...(0,r.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.h1,{id:"animation-manager",children:"Animation Manager"}),"\n",(0,o.jsx)(n.p,{children:"Manages animations for a character, including loading, playing, and controlling animations."}),"\n",(0,o.jsx)(n.h2,{id:"constructor",children:"Constructor"}),"\n",(0,o.jsx)(n.h3,{id:"animationmanager-",children:"AnimationManager( )"}),"\n",(0,o.jsx)(n.h4,{id:"properties",children:"Properties"}),"\n",(0,o.jsx)(n.p,{children:"Properties are not meant to be edited directly they are modified with methods."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"animationPaths"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"lastAnimID"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"mainControl"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"animationControl"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"animations"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"paused"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"scale"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"curLoadAnim"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"currentAnimationName"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"weightIn"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"weightOut"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"lastAnimID"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"curAnimID"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"animationControls"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"started"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"mouseLookEnabled"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"mixamoModel"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"mixamoAnimations"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.code,{children:"currentClip"})}),"\n"]}),"\n",(0,o.jsx)(n.h2,{id:"methods",children:"Methods"}),"\n",(0,o.jsx)(n.h3,{id:"enablemouselookenable-boolean",children:(0,o.jsx)(n.code,{children:"enableMouseLook(enable: boolean)"})}),"\n",(0,o.jsx)(n.p,{children:"Enables or disables mouse look for all animation controls."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"enable"}),": ",(0,o.jsx)(n.em,{children:"boolean"})," - True to enable, false to disable mouse look."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"setscalescale-number",children:(0,o.jsx)(n.code,{children:"setScale(scale: number)"})}),"\n",(0,o.jsx)(n.p,{children:"Sets the scale for animations."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"scale"}),": ",(0,o.jsx)(n.em,{children:"number"})," - The scale factor for animations."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"async-loadanimationpaths-stringstring-ispose-boolean-posetime-number--0-isfbx-boolean--true-pathbase-string---name-string--",children:(0,o.jsx)(n.code,{children:'async loadAnimation(paths: string|string[], isPose: boolean, poseTime: number = 0, isfbx: boolean = true, pathBase: string = "", name: string = "")'})}),"\n",(0,o.jsx)(n.p,{children:"Loads an animation for the character."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"paths"}),": ",(0,o.jsx)(n.em,{children:"string|string[]"})," - The path or paths of the animation files."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"isPose"}),": ",(0,o.jsx)(n.em,{children:"boolean"})," - True if the animation is a pose, false otherwise."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"poseTime"}),": ",(0,o.jsx)(n.em,{children:"number"})," - The time for a pose animation (default is 0)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"isfbx"}),": ",(0,o.jsx)(n.em,{children:"boolean"})," - True if the animation is in FBX format, false for GLTF (default is true)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"pathBase"}),": ",(0,o.jsx)(n.em,{children:"string"})," - The base path for animation files (default is an empty string)."]}),"\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"name"}),": ",(0,o.jsx)(n.em,{children:"string"})," - The name of the animation (default is an empty string)."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"getcurrentclip-threeanimationclipnull",children:(0,o.jsx)(n.code,{children:"getCurrentClip(): THREE.AnimationClip|null"})}),"\n",(0,o.jsx)(n.p,{children:"Gets the current animation clip."}),"\n",(0,o.jsx)(n.h3,{id:"getcurrentanimationname-string",children:(0,o.jsx)(n.code,{children:"getCurrentAnimationName(): string"})}),"\n",(0,o.jsx)(n.p,{children:"Gets the name of the current animation."}),"\n",(0,o.jsx)(n.h3,{id:"clearcurrentanimations",children:(0,o.jsx)(n.code,{children:"clearCurrentAnimations()"})}),"\n",(0,o.jsx)(n.p,{children:"Clears the currently loaded animations and controls."}),"\n",(0,o.jsx)(n.h3,{id:"storeanimationpathspatharray-stringstring-pathbase-string",children:(0,o.jsx)(n.code,{children:"storeAnimationPaths(pathArray: string|string[], pathBase: string)"})}),"\n",(0,o.jsx)(n.p,{children:"Stores animation paths for future loading."}),"\n",(0,o.jsx)(n.h3,{id:"loadnextanimation",children:(0,o.jsx)(n.code,{children:"loadNextAnimation()"})}),"\n",(0,o.jsx)(n.p,{children:"Loads the next animation in the animation paths."}),"\n",(0,o.jsx)(n.h3,{id:"loadpreviousanimation",children:(0,o.jsx)(n.code,{children:"loadPreviousAnimation()"})}),"\n",(0,o.jsx)(n.p,{children:"Loads the previous animation in the animation paths."}),"\n",(0,o.jsx)(n.h3,{id:"enablescreenshot",children:(0,o.jsx)(n.code,{children:"enableScreenshot()"})}),"\n",(0,o.jsx)(n.p,{children:"Enables screenshot mode for all animation controls."}),"\n",(0,o.jsx)(n.h3,{id:"disablescreenshot",children:(0,o.jsx)(n.code,{children:"disableScreenshot()"})}),"\n",(0,o.jsx)(n.p,{children:"Disables screenshot mode for all animation controls."}),"\n",(0,o.jsx)(n.h3,{id:"addvrmvrm-vrm",children:(0,o.jsx)(n.code,{children:"addVRM(vrm: VRM)"})}),"\n",(0,o.jsx)(n.p,{children:"Adds a VRM model to the animation manager."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"vrm"}),": ",(0,o.jsx)(n.em,{children:"VRM"})," - The VRM model to add."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"removevrmvrmtoremove-vrm",children:(0,o.jsx)(n.code,{children:"removeVRM(vrmToRemove: VRM)"})}),"\n",(0,o.jsx)(n.p,{children:"Removes a VRM model from the animation manager."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"vrmToRemove"}),": ",(0,o.jsx)(n.em,{children:"VRM"})," - The VRM model to remove."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"getfromactiontime-number",children:(0,o.jsx)(n.code,{children:"getFromActionTime(): number"})}),"\n",(0,o.jsx)(n.p,{children:'Gets the "from" action time.'}),"\n",(0,o.jsx)(n.h3,{id:"gettoactiontime-number",children:(0,o.jsx)(n.code,{children:"getToActionTime(): number"})}),"\n",(0,o.jsx)(n.p,{children:'Gets the "to" action time.'}),"\n",(0,o.jsx)(n.h3,{id:"getweightin-number",children:(0,o.jsx)(n.code,{children:"getWeightIn(): number"})}),"\n",(0,o.jsx)(n.p,{children:"Gets the weight in value."}),"\n",(0,o.jsx)(n.h3,{id:"getweightout-number",children:(0,o.jsx)(n.code,{children:"getWeightOut(): number"})}),"\n",(0,o.jsx)(n.p,{children:"Gets the weight out value."}),"\n",(0,o.jsx)(n.h3,{id:"disposeanimationtargetanimcontrol-animationcontrol",children:(0,o.jsx)(n.code,{children:"disposeAnimation(targetAnimControl: AnimationControl)"})}),"\n",(0,o.jsx)(n.p,{children:"Disposes of a specific animation control."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"targetAnimControl"}),": ",(0,o.jsx)(n.em,{children:"AnimationControl"})," - The animation control to dispose."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"dispose",children:(0,o.jsx)(n.code,{children:"dispose()"})}),"\n",(0,o.jsx)(n.p,{children:"Disposes of all animation controls."}),"\n",(0,o.jsx)(n.h3,{id:"animrandomizeryieldtime-number",children:(0,o.jsx)(n.code,{children:"animRandomizer(yieldTime: number)"})}),"\n",(0,o.jsx)(n.p,{children:"Randomizes animations at intervals."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"yieldTime"}),": ",(0,o.jsx)(n.em,{children:"number"})," - The interval time for randomization."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"pause",children:(0,o.jsx)(n.code,{children:"pause()"})}),"\n",(0,o.jsx)(n.p,{children:"Pauses the animation manager."}),"\n",(0,o.jsx)(n.h3,{id:"play",children:(0,o.jsx)(n.code,{children:"play()"})}),"\n",(0,o.jsx)(n.p,{children:"Resumes the animation manager."}),"\n",(0,o.jsx)(n.h3,{id:"ispaused-boolean",children:(0,o.jsx)(n.code,{children:"isPaused(): boolean"})}),"\n",(0,o.jsx)(n.p,{children:"Checks if the animation manager is paused."}),"\n",(0,o.jsx)(n.h3,{id:"settimetime-number",children:(0,o.jsx)(n.code,{children:"setTime(time: number)"})}),"\n",(0,o.jsx)(n.p,{children:"Sets the current time for all animation controls."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"time"}),": ",(0,o.jsx)(n.em,{children:"number"})," - The time to set."]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"setspeedspeed-number",children:(0,o.jsx)(n.code,{children:"setSpeed(speed: number)"})}),"\n",(0,o.jsx)(n.p,{children:"Sets the playback speed for all animation controls."}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsxs)(n.li,{children:[(0,o.jsx)(n.code,{children:"speed"}),": ",(0,o.jsx)(n.em,{children:"number"})," - The speed to set."]}),"\n"]})]})}function h(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(c,{...e})}):c(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>a,x:()=>t});var o=i(6540);const r={},s=o.createContext(r);function a(e){const n=o.useContext(s);return o.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function t(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:a(e.components),o.createElement(s.Provider,{value:n},e.children)}}}]);